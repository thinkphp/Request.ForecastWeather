<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
   <title>Request.Weather</title>
   <style type="text/css">
   #weather{float: left;}
   #custom{float: right;}
   #ft{position: absolute;bottom: 10px}
   a,h1{color: #393}
   </style>
   <script src="http://www.google.com/jsapi?key=ABQIAAAA1XbMiDxx_BTCY2_FkPh06RRaGTYH6UMl8mADNa0YKuWNNa8VNxQEerTAUcfkyrr6OwBovxn7TDAH5Q"></script>
   <script type="text/javascript">google.load("mootools", "1.3");</script>
   <script type="text/javascript" src="Request.JSONP.js"></script>
   <script type="text/javascript" src="Request.ForecastWeather-yui-compressed.js"></script>
   <script type="text/javascript">

   window.addEvent('domready',function(){ 

                new Request.ForecastWeather('bucharest','c',{
                       onSuccess: function(o){
                              var title = '<p style="color: blue"><strong>'+o.query.results.weather.rss.channel.item.title+'</strong></p>',
                                  description = o.query.results.weather.rss.channel.item.description;               
                                  $('weather').set('html',title+description);
                       },
                       onRequest: function(script) {
                           if(window.console) {console.log(script);}
                           $('weather').set('text','Loading...'); 
                       }
                }).send();

                $('custom').loadWeather('toronto','c'); 
   });
   </script>
</head>

<body>
<h1>Request.Weather</h1>
<div id="weather"></div>
<div id="custom"></div>
<div id="ft"><p>Created by @<a href="http://twitter.com/thinkphp">thinkphp</a> using <a href="http://thinkphp.ro/apps/YQL/weather-forecast/weather.woeid.xml">Open Data Table</a> | You can grab source of this demo on <a href="http://mootools.net/forge/download/request_forecastweather/1.0">Forge</a></p></div>

</body>
</html>


